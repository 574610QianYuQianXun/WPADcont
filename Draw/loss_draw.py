import matplotlib.pyplot as plt



Steps = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99]
Loss = [4.85335, 4.67535, 4.49785, 4.32091, 4.14458, 3.96895, 3.79409, 3.62009, 3.44707, 3.27514, 3.10446, 2.9352, 2.76754, 2.60173, 2.43804, 2.27682, 2.11847, 1.96349, 1.81248, 1.66621, 1.52561, 1.3919, 1.26661, 1.15177, 1.05003, 0.96506, 0.90188, 0.86754, 0.87141, 0.92272, 1.01671, 1.10394, 1.11257, 1.04894, 0.9706, 0.91155, 0.87797, 0.86493, 0.86558, 0.87408, 0.88607, 0.89856, 0.90958, 0.91794, 0.92304, 0.92471, 0.92311, 0.91864, 0.91187, 0.90351, 0.89436, 0.88526, 0.87703, 0.8704, 0.86596, 0.86401, 0.86449, 0.86692, 0.87043, 0.87389, 0.87627, 0.87694, 0.87582, 0.87341, 0.87043, 0.86761, 0.86548, 0.86426, 0.86391, 0.86424, 0.86498, 0.86585, 0.86662, 0.86712, 0.86729, 0.86712, 0.86666, 0.86603, 0.86534, 0.86471, 0.86424, 0.86397, 0.86391, 0.86404, 0.86426, 0.86451, 0.86471, 0.86479, 0.86476, 0.86462, 0.86443, 0.86422, 0.86406, 0.86395, 0.86391, 0.86393, 0.86399, 0.86406, 0.86412, 0.86415]
Hidden_Loss = [3.35277, 3.22636, 3.101, 2.97674, 2.8536, 2.73163, 2.61086, 2.49133, 2.37309, 2.25618, 2.14063, 2.02648, 1.91379, 1.80261, 1.69297, 1.58494, 1.47859, 1.37399, 1.27122, 1.17039, 1.07166, 0.9752, 0.88128, 0.79026, 0.70271, 0.6195, 0.54208, 0.4729, 0.41607, 0.37749, 0.36207, 0.36893, 0.39247, 0.42646, 0.46579, 0.50661, 0.5462, 0.58268, 0.61485, 0.64197, 0.66367, 0.67983, 0.69051, 0.69594, 0.69644, 0.6924, 0.68429, 0.67263, 0.65797, 0.64092, 0.62212, 0.60224, 0.58199, 0.56213, 0.54341, 0.5266, 0.51239, 0.50139, 0.49408, 0.49289, 0.49593, 0.50273, 0.51207, 0.52244, 0.5331, 0.54338, 0.55274, 0.56076, 0.56714, 0.5717, 0.57439, 0.57522, 0.57432, 0.57185, 0.56807, 0.56325, 0.55772, 0.55179, 0.54644, 0.54378, 0.54297, 0.54389, 0.54636, 0.55009, 0.55478, 0.56075, 0.56536, 0.56808, 0.56894, 0.56806, 0.56565, 0.56194, 0.55824, 0.55591, 0.5549, 0.55516, 0.55655, 0.5589, 0.56199, 0.56607]
Detect_Loss = [0.06837, 0.07079, 0.07339, 0.07618, 0.07919, 0.08245, 0.08599, 0.08983, 0.09403, 0.09863, 0.10369, 0.10928, 0.11549, 0.12243, 0.13022, 0.13904, 0.14907, 0.1606, 0.17395, 0.18959, 0.20812, 0.23036, 0.25745, 0.29097, 0.33317, 0.38709, 0.45655, 0.5447, 0.64832, 0.74489, 0.7916, 0.76862, 0.70123, 0.623, 0.55219, 0.49422, 0.44877, 0.41386, 0.38738, 0.36759, 0.35316, 0.34311, 0.33672, 0.33347, 0.33302, 0.3351, 0.33955, 0.34626, 0.35514, 0.36612, 0.37909, 0.39391, 0.41029, 0.42778, 0.4457, 0.46315, 0.47897, 0.49191, 0.50087, 0.50306, 0.49876, 0.48913, 0.47772, 0.46567, 0.45392, 0.44313, 0.43372, 0.42595, 0.41992, 0.41565, 0.41309, 0.41214, 0.41271, 0.41463, 0.41773, 0.42182, 0.42665, 0.43197, 0.43748, 0.44086, 0.44202, 0.44107, 0.43826, 0.43399, 0.42868, 0.42279, 0.41862, 0.41617, 0.41536, 0.41605, 0.4181, 0.42131, 0.42545, 0.42815, 0.42935, 0.42909, 0.42752, 0.42488, 0.42144, 0.41749]
Dist_Factor = [2.9, 2.80003, 2.7001, 2.60023, 2.50045, 2.40078, 2.30124, 2.20186, 2.10267, 2.00368, 1.90495, 1.8065, 1.70838, 1.61062, 1.51329, 1.41645, 1.32018, 1.22456, 1.12972, 1.0358, 0.94303, 0.85168, 0.76217, 0.67512, 0.5915, 0.51289, 0.44199, 0.38331, 0.34331, 0.32747, 0.33503, 0.36003, 0.39585, 0.43702, 0.4795, 0.52048, 0.55807, 0.59111, 0.6189, 0.64113, 0.65772, 0.66879, 0.67457, 0.67539, 0.67165, 0.66383, 0.65243, 0.63798, 0.62109, 0.60239, 0.58255, 0.56228, 0.54235, 0.52355, 0.50664, 0.49238, 0.48139, 0.47412, 0.47238, 0.47581, 0.48371, 0.49348, 0.50431, 0.51543, 0.52616, 0.53594, 0.54436, 0.5511, 0.556, 0.55898, 0.56009, 0.55942, 0.55718, 0.5536, 0.54896, 0.54359, 0.53781, 0.53198, 0.52848, 0.52729, 0.52827, 0.53117, 0.53566, 0.54137, 0.54787, 0.55257, 0.55539, 0.55633, 0.55553, 0.55317, 0.54953, 0.54491, 0.54195, 0.54064, 0.54092, 0.54263, 0.54554, 0.54939, 0.55388, 0.55631]
Anti_Factor = [0.001, 0.002, 0.003, 0.004, 0.005, 0.006, 0.007, 0.00801, 0.00901, 0.01001, 0.01102, 0.01202, 0.01302, 0.01403, 0.01504, 0.01604, 0.01705, 0.01806, 0.01906, 0.02007, 0.02108, 0.02209, 0.0231, 0.02411, 0.02512, 0.02614, 0.02715, 0.02816, 0.02917, 0.03018, 0.03119, 0.0322, 0.03321, 0.03422, 0.03523, 0.03624, 0.03725, 0.03826, 0.03927, 0.04027, 0.04128, 0.04229, 0.04329, 0.04429, 0.0453, 0.0463, 0.0473, 0.0483, 0.0493, 0.0503, 0.0513, 0.05229, 0.05329, 0.05429, 0.05528, 0.05628, 0.05727, 0.05827, 0.05906, 0.05968, 0.06014, 0.06065, 0.06121, 0.06181, 0.06245, 0.06312, 0.06382, 0.06456, 0.06531, 0.06609, 0.06689, 0.06771, 0.06855, 0.0694, 0.07026, 0.07113, 0.07202, 0.07291, 0.07362, 0.07416, 0.07454, 0.0748, 0.07493, 0.07494, 0.07486, 0.07489, 0.07501, 0.07521, 0.0755, 0.07585, 0.07626, 0.07673, 0.07706, 0.07726, 0.07734, 0.07731, 0.07719, 0.07698, 0.0767, 0.07654]



# 创建图形

fig, ax1 = plt.subplots(figsize=(12, 5))
# 绘制两条线
# plt.plot(Steps, Loss, label="Line A (Loss)", linestyle='-', color='red', marker='s')  # 曲线A
ax1.plot(Steps, Hidden_Loss, label="Line B (Hidden_Loss)", linestyle='--', color='orange', marker='o', markersize=4)  # 曲线B
ax1.plot(Steps, Detect_Loss, label="Line C (Detect_Loss)", linestyle='-.', color='blue', marker='^', markersize=4)  # 曲线C
ax1.set_xlabel("Train_rounds", fontsize=12)
ax1.set_ylabel("loss_value", fontsize=12)
ax1.grid(alpha=0.3)

# 创建第二个y轴并绘制第二组数据（Dist_Factor, Anti_Factor）
ax2 = ax1.twinx()  # 创建共享x轴的第二个y轴
ax2.plot(Steps, Dist_Factor, label="Line D (Watermark)", linestyle=':', color='green', marker='D', markersize=4)  # 曲线D
ax2.plot(Steps, Anti_Factor, label="Line E (Anti_Watermark)", linestyle='-', color='purple', marker='p', markersize=4)  # 曲线E
ax2.set_ylabel("Dist_Factor / Anti_Factor", fontsize=12)
# 将第一个图例放在左上角，第二个图例放在右上角
# 第一个图例位于右上角的上方
ax1.legend(loc='upper right', fontsize=10, bbox_to_anchor=(0.979, 0.99))

# 第二个图例位于右上角的下方
ax2.legend(loc='upper right', fontsize=10, bbox_to_anchor=(1, 0.85))


# 调整布局
plt.tight_layout()

# 显示图形
plt.show()